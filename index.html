<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Plate Service Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{--primary:#0b3c6d;--bg:#f2f6fb;--success:#28a745;--error:#d32f2f;}
body{margin:0;font-family:Segoe UI;background:var(--bg);}
*{box-sizing:border-box;}

header{background:var(--primary);color:#fff;padding:12px;display:flex;gap:10px;align-items:center;}
header img{height:40px}

nav{background:#003366;display:flex;justify-content:center}
nav button{color:#fff;background:none;border:none;padding:10px 15px;font-weight:bold;cursor:pointer}

.container{max-width:600px;margin:15px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,.1)}

.step-title{background:#e3ecff;padding:10px;margin-bottom:15px;border-left:5px solid var(--primary)}

.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media(max-width:600px){.form-grid{grid-template-columns:1fr}}

label{font-size:13px;font-weight:bold}
input,select,textarea{width:100%;padding:10px;border-radius:6px;border:1px solid #ccc}

.error{border-color:red}
.error-text{color:red;font-size:12px}

.btn-next{background:var(--primary);color:#fff;border:none;padding:14px;border-radius:8px;width:100%;margin-top:10px;font-size:16px;cursor:pointer}

@media(max-width:600px){
.btn-next{position:sticky;bottom:10px;z-index:999}
}

.progress{height:8px;background:#ddd;border-radius:10px;margin-bottom:15px}
.progress-bar{height:100%;width:33%;background:linear-gradient(90deg,#0b3c6d,#1a5ea3);transition:width 0.3s ease;}

.payment-card{border:1px solid #ddd;padding:15px;border-radius:12px;background:#fafafa;text-align:center}
.payment-card h3{margin:5px 0}
.qr-container img{width:160px;margin:10px 0}

.upi-apps{display:flex;justify-content:center;gap:15px;margin-top:10px}
.upi-apps img{width:45px}

.file-input-wrapper{border:2px dashed #ccc;padding:15px;border-radius:10px;text-align:center;margin-top:10px;cursor:pointer}
#screenshot-preview{max-width:100%;display:none;margin-top:10px;border-radius:8px;}

.loading-spinner{
border:3px solid #f3f3f3;
border-top:3px solid var(--primary);
border-radius:50%;
width:18px;height:18px;
animation:spin 1s linear infinite;
display:inline-block;
margin-right:6px;
vertical-align: middle;
}
@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}

#step2,#step3,#thankyouPage,#trackPage{display:none}

.success-check{font-size:60px;color:var(--success);text-align:center;}

.info-list{text-align:left;background:#f9f9f9;padding:10px;border-radius:8px}
.info-item{display:flex;justify-content:space-between;margin-bottom:5px;border-bottom: 1px solid #eee;padding: 5px 0;}

footer{text-align:center;padding:15px;color:#666}
</style>
</head>

<body>

<header>
<img src="https://cdn-icons-png.flaticon.com/512/1048/1048313.png">
<div>
<h3>Plate Service Portal</h3>
<small>HSRP Facilitator</small>
</div>
</header>

<nav>
<button onclick="location.reload()">NEW BOOKING</button>
<button onclick="showTrack()">TRACK STATUS</button>
</nav>

<div class="container">

<!-- TRACK -->
<div id="trackPage">
<h3>Track Application</h3>
<input id="trackId" placeholder="HSRP123456" style="text-transform:uppercase">
<button class="btn-next" onclick="trackOrder()">Check Status</button>
<div id="trackResult" style="margin-top:15px;"></div>
</div>

<div id="bookingBox">
<div class="progress"><div class="progress-bar" id="progressBar"></div></div>

<!-- STEP 1 -->
<div id="step1">
<div class="step-title">Step 1: Vehicle Info</div>
<div class="form-grid">

<div>
<label>Vehicle Category</label>
<select id="vehicleType">
<option value="">Select</option>
<option>Two Wheeler</option>
<option>Four Wheeler</option>
<option>Electric Vehicle</option>
<option>Commercial Vehicle</option>
</select>
<div class="error-text" id="errVehicle"></div>
</div>

<div>
<label>State / UT</label>
<select id="stateSelect">
<option value="">Select State</option>
<option>Andhra Pradesh</option>
<option>Arunachal Pradesh</option>
<option>Assam</option>
<option>Bihar</option>
<option>Chhattisgarh</option>
<option>Goa</option>
<option>Gujarat</option>
<option>Haryana</option>
<option>Himachal Pradesh</option>
<option>Jharkhand</option>
<option>Karnataka</option>
<option>Kerala</option>
<option>Madhya Pradesh</option>
<option>Maharashtra</option>
<option>Manipur</option>
<option>Meghalaya</option>
<option>Mizoram</option>
<option>Nagaland</option>
<option>Odisha</option>
<option>Punjab</option>
<option>Rajasthan</option>
<option>Sikkim</option>
<option>Tamil Nadu</option>
<option>Telangana</option>
<option>Tripura</option>
<option>Uttar Pradesh</option>
<option>Uttarakhand</option>
<option>West Bengal</option>
<option>Delhi</option>
<option>Jammu and Kashmir</option>
</select>
<div class="error-text" id="errState"></div>
</div>

<div>
<label>Vehicle No</label>
<input id="regNo" style="text-transform:uppercase" placeholder="DL01AB1234">
<div class="error-text" id="errReg"></div>
</div>

<div>
<label>Chassis (Last 5)</label>
<input id="chassis" maxlength="5" placeholder="12345">
<div class="error-text" id="errChassis"></div>
</div>

<div>
<label>Engine (Last 5)</label>
<input id="engine" maxlength="5" placeholder="67890">
<div class="error-text" id="errEngine"></div>
</div>

</div>
<button class="btn-next" onclick="goStep2()">Continue</button>
</div>

<!-- STEP 2 -->
<div id="step2">
<div class="step-title">Step 2: Owner Info</div>
<div class="form-grid">
<div>
<label>Full Name</label>
<input id="uName" placeholder="Full Name">
<div class="error-text" id="errName"></div>
</div>
<div>
<label>Mobile Number</label>
<input id="uMob" placeholder="Mobile" maxlength="10">
<div class="error-text" id="errMob"></div>
</div>
<div>
<label>Email Address</label>
<input id="uEmail" placeholder="Email">
<div class="error-text" id="errEmail"></div>
</div>
<div style="grid-column: 1 / -1;">
<label>Complete Address</label>
<textarea id="uAddr" placeholder="Address"></textarea>
<div class="error-text" id="errAddr"></div>
</div>
</div>
<button class="btn-next" onclick="goStep3()">Proceed to Payment</button>
<button class="btn-next" style="background:#666" onclick="backStep1()">Back</button>
</div>

<!-- STEP 3 PAYMENT -->
<div id="step3">
<div class="step-title">Secure Payment</div>

<div class="payment-card">
<h3>Scan & Pay via UPI</h3>

<div class="qr-container">
<img src="https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=upi://pay?pa=hsrp@upi&pn=PlateService">
</div>

<div class="upi-apps">
<img src="https://upload.wikimedia.org/wikipedia/commons/7/71/PhonePe_Logo.svg">
<img src="https://upload.wikimedia.org/wikipedia/commons/f/f2/Google_Pay_Logo.svg">
<img src="https://upload.wikimedia.org/wikipedia/commons/2/24/Paytm_Logo.svg">
</div>

<p style="font-size:13px;margin-top:8px;">Upload payment screenshot for verification</p>

<div class="file-input-wrapper" onclick="document.getElementById('screenshot').click()">
Click to Upload Screenshot
<input type="file" id="screenshot" hidden>
<img id="screenshot-preview">
</div>

</div>

<button class="btn-next" id="btnSubmit" onclick="submitForm()">Complete Submission</button>
</div>
</div>

<!-- THANK YOU -->
<div id="thankyouPage" style="text-align: center;">
<div class="success-check">✔</div>
<h2>Booking Successful</h2>
<p style="margin: 0; color: #666; font-size: 14px;">Application ID</p>
<h3 id="finalId" style="color:var(--primary); margin-top: 5px;"></h3>

<div class="info-list">
<div class="info-item"><span>Vehicle:</span><b id="displayReg"></b></div>
<div class="info-item"><span>Owner:</span><b id="displayOwner"></b></div>
<div class="info-item"><span>Date:</span><b id="displayDate"></b></div>
</div>

<h4 style="margin-top:20px;">Process Timeline</h4>
<p style="text-align:left;">✔ Details Verification (24 hrs)</p>
<p style="text-align:left;">✔ Plate Manufacturing</p>
<p style="text-align:left;">✔ Delivery within <b>8–10 working days</b></p>

<button class="btn-next" onclick="location.reload()">Book Another</button>
</div>

</div>

<footer>© 2026 Plate Service Portal</footer>

<script>
let orders = {};
const regInput = document.getElementById("regNo");
const progressBar = document.getElementById("progressBar");
const previewImg = document.getElementById("screenshot-preview");
const screenshotInput = document.getElementById("screenshot");

regInput.addEventListener("input", () => {
    regInput.value = regInput.value.toUpperCase();
});

function clearErrors() {
    document.querySelectorAll(".error-text").forEach(e => e.innerText = "");
    document.querySelectorAll("input,select,textarea").forEach(e => e.classList.remove("error"));
}

function goStep2() {
    clearErrors();
    let valid = true;
    if (!document.getElementById('vehicleType').value) { valid = false; document.getElementById('errVehicle').innerText = "Required"; }
    if (!document.getElementById('stateSelect').value) { valid = false; document.getElementById('errState').innerText = "Required"; }
    if (!document.getElementById('regNo').value) { valid = false; document.getElementById('errReg').innerText = "Required"; }
    if (!document.getElementById('chassis').value) { valid = false; document.getElementById('errChassis').innerText = "Required"; }
    if (!document.getElementById('engine').value) { valid = false; document.getElementById('errEngine').innerText = "Required"; }

    if (!valid) return;
    document.getElementById('step1').style.display = "none";
    document.getElementById('step2').style.display = "block";
    progressBar.style.width = "66%";
}

function goStep3() {
    clearErrors();
    let valid = true;
    if (!document.getElementById('uName').value) { valid = false; document.getElementById('errName').innerText = "Required"; }
    if (!document.getElementById('uMob').value) { valid = false; document.getElementById('errMob').innerText = "Required"; }
    if (!document.getElementById('uEmail').value) { valid = false; document.getElementById('errEmail').innerText = "Required"; }
    if (!document.getElementById('uAddr').value) { valid = false; document.getElementById('errAddr').innerText = "Required"; }

    if (!valid) return;
    document.getElementById('step2').style.display = "none";
    document.getElementById('step3').style.display = "block";
    progressBar.style.width = "100%";
}

function backStep1() {
    document.getElementById('step2').style.display = "none";
    document.getElementById('step1').style.display = "block";
    progressBar.style.width = "33%";
}

screenshotInput.onchange = e => {
    if (e.target.files && e.target.files[0]) {
        let r = new FileReader();
        r.onload = () => {
            previewImg.src = r.result;
            previewImg.style.display = "block";
        }
        r.readAsDataURL(e.target.files[0]);
    }
};

function submitForm() {
    if (!screenshotInput.files.length) {
        alert("Bhai, payment screenshot upload karein verification ke liye.");
        return;
    }
    const btnSubmit = document.getElementById('btnSubmit');
    btnSubmit.disabled = true;
    btnSubmit.innerHTML = '<span class="loading-spinner"></span>Submitting...';

    setTimeout(() => {
        let id = "HSRP" + Math.floor(100000 + Math.random() * 900000);
        let reg = document.getElementById('regNo').value;
        let owner = document.getElementById('uName').value;
        
        orders[id] = { 
            status: "Pending Verification", 
            vehicle: reg, 
            owner: owner,
            type: document.getElementById('vehicleType').value,
            state: document.getElementById('stateSelect').value
        };

        document.getElementById('finalId').innerText = id;
        document.getElementById('displayReg').innerText = reg;
        document.getElementById('displayOwner').innerText = owner;
        document.getElementById('displayDate').innerText = new Date().toDateString();

        document.getElementById('bookingBox').style.display = "none";
        document.getElementById('thankyouPage').style.display = "block";
    }, 1500);
}

function showTrack() {
    document.getElementById('bookingBox').style.display = "none";
    document.getElementById('thankyouPage').style.display = "none";
    document.getElementById('trackPage').style.display = "block";
}

function trackOrder() {
    let id = document.getElementById('trackId').value.toUpperCase();
    let resDiv = document.getElementById('trackResult');
    if (orders[id]) {
        resDiv.innerHTML = `<div class="info-list">
            <div class="info-item"><span>Status:</span><b style="color:var(--primary)">${orders[id].status}</b></div>
            <div class="info-item"><span>Application ID:</span><b>${id}</b></div>
            <div class="info-item"><span>Vehicle No:</span><b>${orders[id].vehicle}</b></div>
            <div class="info-item"><span>Category:</span><b>${orders[id].type}</b></div>
            <div class="info-item"><span>State:</span><b>${orders[id].state}</b></div>
        </div>`;
    } else {
        resDiv.innerHTML = "<p style='color:red'>Application ID galat hai ya nahi mili.</p>";
    }
}
</script>

</body>
</html>
